#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <fcntl.h>
#include <sys/ioctl.h>
#include <errno.h>

#define _IOC_NRBITS	8
#define _IOC_TYPEBITS	8

#ifndef _IOC_SIZEBITS
# define _IOC_SIZEBITS	14
#endif

#ifndef _IOC_DIRBITS
# define _IOC_DIRBITS	2
#endif

#define _IOC_WRITE	1U
#define _IOC_TYPECHECK(t) (sizeof(t))



#define _IOC_NRMASK	((1 << _IOC_NRBITS)-1)
#define _IOC_TYPEMASK	((1 << _IOC_TYPEBITS)-1)
#define _IOC_SIZEMASK	((1 << _IOC_SIZEBITS)-1)
#define _IOC_DIRMASK	((1 << _IOC_DIRBITS)-1)

#define _IOC_NRSHIFT	0
#define _IOC_TYPESHIFT	(_IOC_NRSHIFT+_IOC_NRBITS)
#define _IOC_SIZESHIFT	(_IOC_TYPESHIFT+_IOC_TYPEBITS)
#define _IOC_DIRSHIFT	(_IOC_SIZESHIFT+_IOC_SIZEBITS)
#define _IOC(dir,type,nr,size) \
	(((dir)  << _IOC_DIRSHIFT) | \
	 ((type) << _IOC_TYPESHIFT) | \
	 ((nr)   << _IOC_NRSHIFT) | \
	 ((size) << _IOC_SIZESHIFT))

#define _IOW(type,nr,size)	_IOC(_IOC_WRITE,(type),(nr),(_IOC_TYPECHECK(size)))
#define AUDIO_EFFECTS_SET_PP_PARAMS _IOW('a', 104, void *)
int main(int argc, char *argv[])
{
	printf("main begins...\n");
	int  fd = open("/dev/msm_hweffects", 0);
        if (fd<0){
		perror("open");
		exit(-1);
         }
         long req[128] = {0};
         req[0] = 0x6000;
         req[1] = 0;
         req[2] = 0x7fffffff;
         req[3] = 0x5002;
         req[5] = 0x1;
         int ret = 0;
         unsigned int cmd = AUDIO_EFFECTS_SET_PP_PARAMS;//0x40046168;
	 ret =ioctl(fd, cmd, &req);
       
	printf("main done,ret2:0x%x, cmd is:0x%x \n", ret,cmd);

}
